"use strict";angular.module("angularjssearchbox",["ui.bootstrap","ui"]).directive("sbFocus",function(){return function(e,l){l[0].focus(),e.opened=!0}}).directive("searchBox",["$timeout",function(e){return{restrict:"A",templateUrl:"templates/searchBox.html",scope:{resultList:"=",facetList:"=",debug:"=?"},link:function(l,t){l.selected={key:null,value:null},l.selectedResult=null,l.debug=l.debug||!1,l.getValues=function(e){for(var t in l.facetList)if(l.facetList[t].name==e)return l.facetList[t].items;return[]},l.selectResult=function(e){l.selectedResult=e},l.removeFilter=function(e){l.resultList.splice(e,1)},l.removeValue=function(e){l.selected.value=l.resultList[e].value,l.resultList[e].value=null},l.removeAll=function(){l.resultList.length=0},l.onSelect=function(e){l.selected.value=null,l.resultList.push(e.hasOwnProperty("type")?{key:e.name,type:e.type,value:null}:{key:e.name,type:null,value:null}),l.selected.key=null},l.onFreeSelect=function(e){null!=e?(l.selected.value=null,l.resultList.push({key:"text",type:"string",value:e}),l.selected.key=null):null!=l.selected.key&&(l.selected.value=null,l.resultList.push({key:"text",type:"string",value:l.selected.key}),l.selected.key=null)},l.onSelectValue=function(u,n){l.resultList[u].value=n,l.selected.key=null,l.selected.value=null,e(function(){t.find("input")[t.find("input").length-1].focus(),l.selectedResult=null})},l.onFreeSelectValue=function(u,n){null!=n?(l.resultList[u].value=n,l.selected.key=null,l.selected.value=null,e(function(){t.find("input")[t.find("input").length-1].focus(),l.selectedResult=null})):null!=l.selected.value&&(l.resultList[u].value=l.selected.value,l.selected.key=null,l.selected.value=null,e(function(){t.find("input")[t.find("input").length-1].focus(),l.selectedResult=null}))}}}}]);