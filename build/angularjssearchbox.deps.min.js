"use strict";angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var e=this.defaults={animation:"am-fade",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,placement:"top",template:"tooltip/tooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","dimensions","$$rAF",function(t,n,a,i,s,r,o,l,c,u){function d(t,i){function s(){return"body"===v.container?c.offset(t[0]):c.position(t[0])}function r(e,t,n,a){var i,s=e.split("-");switch(s[0]){case"right":i={top:t.top+t.height/2-a/2,left:t.left+t.width};break;case"bottom":i={top:t.top+t.height,left:t.left+t.width/2-n/2};break;case"left":i={top:t.top+t.height/2-a/2,left:t.left-n};break;default:i={top:t.top-a,left:t.left+t.width/2-n/2}}if(!s[1])return i;if("top"===s[0]||"bottom"===s[0])switch(s[1]){case"left":i.left=t.left;break;case"right":i.left=t.left+t.width-n}else if("left"===s[0]||"right"===s[0])switch(s[1]){case"top":i.top=t.top-a;break;case"bottom":i.top=t.top+t.height}return i}var l={},d=t[0].nodeName.toLowerCase(),v=l.$options=angular.extend({},e,i);l.$promise=f(v.template);var $=l.$scope=v.scope&&v.scope.$new()||n.$new();v.delay&&angular.isString(v.delay)&&(v.delay=parseFloat(v.delay)),v.title&&(l.$scope.title=v.title),$.$hide=function(){$.$$postDigest(function(){l.hide()})},$.$show=function(){$.$$postDigest(function(){l.show()})},$.$toggle=function(){$.$$postDigest(function(){l.toggle()})},l.$isShown=$.$isShown=!1;var y,b;v.contentTemplate&&(l.$promise=l.$promise.then(function(e){var t=angular.element(e);return f(v.contentTemplate).then(function(e){var n=p('[ng-bind="content"]',t[0]);return n.length||(n=p('[ng-bind="title"]',t[0])),n.removeAttr("ng-bind").html(e),t[0].outerHTML})}));var w,L,x,k;return l.$promise.then(function(e){angular.isObject(e)&&(e=e.data),v.html&&(e=e.replace(g,'ng-bind-html="')),e=m.apply(e),x=e,w=a(e),l.init()}),l.init=function(){v.delay&&angular.isNumber(v.delay)&&(v.delay={show:v.delay,hide:v.delay}),"self"===v.container?k=t:v.container&&(k=p(v.container));var e=v.trigger.split(" ");angular.forEach(e,function(e){"click"===e?t.on("click",l.toggle):"manual"!==e&&(t.on("hover"===e?"mouseenter":"focus",l.enter),t.on("hover"===e?"mouseleave":"blur",l.leave),"button"===d&&"hover"!==e&&t.on(h?"touchstart":"mousedown",l.$onFocusElementMouseDown))}),v.show&&$.$$postDigest(function(){"focus"===v.trigger?t[0].focus():l.show()})},l.destroy=function(){for(var e=v.trigger.split(" "),n=e.length;n--;){var a=e[n];"click"===a?t.off("click",l.toggle):"manual"!==a&&(t.off("hover"===a?"mouseenter":"focus",l.enter),t.off("hover"===a?"mouseleave":"blur",l.leave),"button"===d&&"hover"!==a&&t.off(h?"touchstart":"mousedown",l.$onFocusElementMouseDown))}L&&(L.remove(),L=null),$.$destroy()},l.enter=function(){return clearTimeout(y),b="in",v.delay&&v.delay.show?void(y=setTimeout(function(){"in"===b&&l.show()},v.delay.show)):l.show()},l.show=function(){$.$emit(v.prefixEvent+".show.before",l);var e=v.container?k:null,n=v.container?null:t;L&&L.remove(),L=l.$element=w($,function(){}),L.css({top:"0px",left:"0px",display:"block"}).addClass(v.placement),v.animation&&L.addClass(v.animation),v.type&&L.addClass(v.prefixClass+"-"+v.type),o.enter(L,e,n,function(){$.$emit(v.prefixEvent+".show",l)}),l.$isShown=$.$isShown=!0,$.$$phase||$.$root.$$phase||$.$digest(),u(l.$applyPlacement),v.keyboard&&("focus"!==v.trigger?(l.focus(),L.on("keyup",l.$onKeyUp)):t.on("keyup",l.$onFocusKeyUp))},l.leave=function(){return clearTimeout(y),b="out",v.delay&&v.delay.hide?void(y=setTimeout(function(){"out"===b&&l.hide()},v.delay.hide)):l.hide()},l.hide=function(e){return l.$isShown?($.$emit(v.prefixEvent+".hide.before",l),o.leave(L,function(){$.$emit(v.prefixEvent+".hide",l)}),l.$isShown=$.$isShown=!1,$.$$phase||$.$root.$$phase||$.$digest(),v.keyboard&&null!==L&&L.off("keyup",l.$onKeyUp),e&&"focus"===v.trigger?t[0].blur():void 0):void 0},l.toggle=function(){l.$isShown?l.leave():l.enter()},l.focus=function(){L[0].focus()},l.$applyPlacement=function(){if(L){var e=s(),t=L.prop("offsetWidth"),n=L.prop("offsetHeight"),a=r(v.placement,e,t,n);a.top+="px",a.left+="px",L.css(a)}},l.$onKeyUp=function(e){27===e.which&&l.hide()},l.$onFocusKeyUp=function(e){27===e.which&&t[0].blur()},l.$onFocusElementMouseDown=function(e){e.preventDefault(),e.stopPropagation(),l.$isShown?t[0].blur():t[0].focus()},l}function p(e,t){return angular.element((t||document).querySelectorAll(e))}function f(e){return i.when(s.get(e)||r.get(e)).then(function(t){return angular.isObject(t)?(s.put(e,t.data),t.data):t})}var m=String.prototype.trim,h="createTouch"in t.document,g=/ng-bind="/gi;return d}]}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$rAF",function(e,t,n,a,i){return{restrict:"EAC",scope:!0,link:function(e,t,s){var r={scope:e};angular.forEach(["template","contentTemplate","placement","container","delay","trigger","keyboard","html","animation","type"],function(e){angular.isDefined(s[e])&&(r[e]=s[e])}),angular.forEach(["title"],function(t){s[t]&&s.$observe(t,function(a,s){e[t]=n.trustAsHtml(a),angular.isDefined(s)&&i(function(){o&&o.$applyPlacement()})})}),s.bsTooltip&&e.$watch(s.bsTooltip,function(t,n){angular.isObject(t)?angular.extend(e,t):e.title=t,angular.isDefined(n)&&i(function(){o&&o.$applyPlacement()})},!0);var o=a(t,r);e.$on("$destroy",function(){o.destroy(),r=null,o=null})}}}]),angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(e){e.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var e=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(t,n){function a(a,i){function s(e,t){return e.map(function(e,n){var a,i,s={};return s[u]=e,a=c(t,s),i=f(t,s)||n,{label:a,value:i}})}var r={},o=angular.extend({},e,i);r.$values=[];var l,c,u,d,p,f,m;return r.init=function(){r.$match=l=a.match(o.regexp),c=t(l[2]||l[1]),u=l[4]||l[6],d=l[5],p=t(l[3]||""),f=t(l[2]?l[1]:u),m=t(l[7])},r.valuesFn=function(e,t){return n.when(m(e,t)).then(function(t){return r.$values=t?s(t,e):{},r.$values})},r.init(),r}return a}]}),angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(){var e=(angular.element,{}),t=e.nodeName=function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()};e.css=function(e,t,n){var a;return a=e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e)[t]:e.style[t],n===!0?parseFloat(a)||0:a},e.offset=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument;return{width:e.offsetWidth,height:e.offsetHeight,top:t.top+(window.pageYOffset||n.documentElement.scrollTop)-(n.documentElement.clientTop||0),left:t.left+(window.pageXOffset||n.documentElement.scrollLeft)-(n.documentElement.clientLeft||0)}},e.position=function(a){var i,s,r={top:0,left:0};return"fixed"===e.css(a,"position")?s=a.getBoundingClientRect():(i=n(a),s=e.offset(a),s=e.offset(a),t(i,"html")||(r=e.offset(i)),r.top+=e.css(i,"borderTopWidth",!0),r.left+=e.css(i,"borderLeftWidth",!0)),{width:a.offsetWidth,height:a.offsetHeight,top:s.top-r.top-e.css(a,"marginTop",!0),left:s.left-r.left-e.css(a,"marginLeft",!0)}};var n=function(n){var a=n.ownerDocument,i=n.offsetParent||a;if(t(i,"#document"))return a.documentElement;for(;i&&!t(i,"html")&&"static"===e.css(i,"position");)i=i.offsetParent;return i||a.documentElement};return e.height=function(t,n){var a=t.offsetHeight;return n?a+=e.css(t,"marginTop",!0)+e.css(t,"marginBottom",!0):a-=e.css(t,"paddingTop",!0)+e.css(t,"paddingBottom",!0)+e.css(t,"borderTopWidth",!0)+e.css(t,"borderBottomWidth",!0),a},e.width=function(t,n){var a=t.offsetWidth;return n?a+=e.css(t,"marginLeft",!0)+e.css(t,"marginRight",!0):a-=e.css(t,"paddingLeft",!0)+e.css(t,"paddingRight",!0)+e.css(t,"borderLeftWidth",!0)+e.css(t,"borderRightWidth",!0),a},e}]),angular.module("angularjssearchbox",["angularjssearchbox.typeahead","ngDateRange"]).directive("sbFocus",["$timeout",function(e){return function(t,n){e(function(){t.useKeywordFacet||n[0].value||n[0].focus()})}}]).directive("repeatDone",function(){return function(e,t){e.bindValueInput(t)}}).directive("searchBox",["$timeout",function(e){return{restrict:"A",templateUrl:"templates/searchBox.html",scope:{resultList:"=",facetList:"=",debug:"=?",dateOptions:"=?"},link:function(t,n){function a(e){for(var t in e)for(var n in e[t].items)e[t].items[n].hasOwnProperty("label")||(e[t].items[n].label=e[t].items[n].name);return e}function i(e,n){for(var a in t.facetList)if(t.facetList[a].name===e)for(var i in t.facetList[a].items)if(t.facetList[a].items[i].name===n)return t.facetList[a].items[i].label;return n}function s(e){for(var n in t.facetList)if(t.facetList[n].name===e)return t.facetList[n].type;return"string"}function r(e){var t=[];for(var n in e){var a=new Object;a.key=e[n].key,a.type=s(a.key),a.value=i(a.key,e[n].value),t.push(a)}return t}t.tmpInputValue=null,t.selectedResult=null,t.debug=t.debug||!1,t.useKeywordFacet=!1,t.hasKeywordFacet=!1,t.toDay=moment().format("DD/MM/YYYY"),t.dateOptions=t.dateOptions||{minDate:"01/01/2004",maxDate:moment().add("years",2),showDropdowns:!0,showWeekNumbers:!1,timePicker:!1,timePickerIncrement:1,timePicker12Hour:!1,ranges:{"Aujourd'hui":[moment(),moment()],"Semestre en cours":moment().get("month")<6?[moment().startOf("year"),moment().startOf("year").add("months",6).subtract("days",1)]:[moment().startOf("year").add("months",6),moment().endOf("year")],"Prochain Semestre":moment().get("month")<6?[moment().startOf("year").add("months",6),moment().endOf("year")]:[moment().startOf("year").add("years",1),moment().endOf("year").add("months",6)],"Mois dernier":[moment().subtract("month",1).startOf("month"),moment().subtract("month",1).endOf("month")],"3 prochains mois":[moment().startOf("month"),moment().add("month",3).endOf("month")]},opens:"right",buttonClasses:["btn btn-default"],applyClass:"btn-small btn-primary",cancelClass:"btn-small",format:"DD/MM/YYYY",separator:" - ",singleDatePicker:!1,locale:{applyLabel:"Valider",cancelLabel:"Annuler",fromLabel:"Du",toLabel:"Au",customRangeLabel:"Calendrier",daysOfWeek:["Di","Lu","Ma","Me","Je","Ve","Sa"],monthNames:["Janvier","F&eacute;vrier","Mars","Avril","Mai","Juin","Juillet","Ao&ucirc;t","Septembre","Octobre","Novembre","D&eacute;cembre"],firstDay:1}},t.dateOptionsDate=angular.copy(t.dateOptions),t.dateOptionsDate.singleDatePicker=!0,t.dateOptionsRange=angular.copy(t.dateOptions),t.changeEventDateRange=function(){var n=this.element.context.value,a=this.element[0].attributes[1].value;t.sbResultList[a].value=n,e(function(){if(t.hasKeywordFacet&&"text"!=t.sbResultList[t.sbResultList.length-1].key){var e=t.sbResultList.pop();t.sbResultList.splice(t.sbResultList.length-1,0,e),a+=-1}var i=new Object;i.key=t.sbResultList[a].key,i.type=t.sbResultList[a].type,i.value=n,t.resultList[a]=i,t.selectInputFacet(),t.selectedResult=null},100)},t.$watch("facetList",function(e){t.sbFacetList=a(e),t.sbResultList=r(t.resultList),t.hasOwnProperty("selected")||(t.selected={key:"",value:""})}),t.$watch("resultList",function(e){t.sbResultList=r(e)});var o=[9,13,37,39];n.find("input").bind("keydown",function(n){-1!==o.indexOf(n.which)&&(n.preventDefault(),13===n.which?(t.useKeywordFacet=!0,e(function(){t.useKeywordFacet&&(t.selected.value="",t.hasKeywordFacet?(t.sbResultList[t.sbResultList.length-1].value+=" "+t.selected.key,t.resultList[t.resultList.length-1].value+=" "+t.selected.key):(t.hasKeywordFacet=!0,t.sbResultList.push({key:"text",type:"string",value:t.selected.key}),t.resultList.push({key:"text",type:"string",value:t.selected.key})),t.selected.key="",e(function(){t.selectInputFacet(),t.selectedResult=null}))})):9===n.which&&t.$apply(function(){}))}),t.bindValueInput=function(n){e(function(){n.find("input").bind("keydown",function(e){-1!==o.indexOf(e.which)&&(e.preventDefault(),(13===e.which||9===e.which)&&(t.hasKeywordFacet&&t.$apply(function(){if("text"!=t.sbResultList[t.sbResultList.length-1].key){var e=t.sbResultList.pop();t.sbResultList.splice(t.sbResultList.length-1,0,e)}}),t.$apply(function(){var n=new Object;n.key=t.sbResultList[e.target.dataset.tahIndex].key,n.type=t.sbResultList[e.target.dataset.tahIndex].type,n.value=t.sbResultList[e.target.dataset.tahIndex].value,t.resultList[e.target.dataset.tahIndex]=n,t.selectInputFacet(),t.selectedResult=null})))})})},t.selectInputFacet=function(){n.find("input")[n.find("input").length-1].focus()},t.getFacetLabel=function(e){for(var n in t.sbFacetList)if(t.sbFacetList[n].name==e)return t.sbFacetList[n].label;return e},t.getValueName=function(e,n,a){for(var i in t.sbFacetList)if(t.sbFacetList[i].name==e)return t.sbFacetList[i].items[n].name;return a},t.getValues=function(e){for(var n in t.sbFacetList)if(t.sbFacetList[n].name==e)return t.sbFacetList[n].items;return[]},t.$on("$typeahead.select",function(n,a,i,s){t.$apply(function(){t.useKeywordFacet=!1,-1==s?(t.selected.value="",t.sbResultList.push({key:a.name,type:a.type,value:""}),t.selected.key=""):e(function(){if(t.hasKeywordFacet&&"text"!=t.sbResultList[t.sbResultList.length-1].key){var e=t.sbResultList.pop();t.sbResultList.splice(t.sbResultList.length-1,0,e),s+=-1}var n=new Object;n.key=t.sbResultList[s].key,n.type=t.sbResultList[s].type,n.value=t.getValueName(n.key,i,a),t.resultList[s]=n,t.selectInputFacet(),t.selectedResult=null},100)})}),t.selectResult=function(e){t.selectedResult=e},t.removeFilter=function(e){"text"===t.sbResultList[e].key&&(t.hasKeywordFacet=!1),t.sbResultList.splice(e,1),t.resultList=t.sbResultList.slice(0)},t.removeAll=function(){t.hasKeywordFacet=!1,t.sbResultList.length=0,t.resultList.length=0}}}}]),angular.module("angularjssearchbox.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var e=this.defaults={animation:"am-fade",prefixClass:"typeahead",placement:"bottom-left",template:"templates/typeAhead.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,tahIndex:-1,filter:"filter",limit:6};this.$get=function(t,n,a){function i(t,n,i){var s={},r=angular.extend({},e,i);s=a(t,r);var o=i.scope,l=s.$scope;l.$resetMatches=function(){l.$matches=[],l.$activeIndex=0},l.$resetMatches(),l.$activate=function(e){l.$$postDigest(function(){s.activate(e)})},l.$select=function(e){l.$$postDigest(function(){s.select(e)})},l.$isVisible=function(){return s.$isVisible()},s.update=function(e){l.$matches=e,l.$activeIndex>=e.length&&(l.$activeIndex=0)},s.activate=function(e){l.$activeIndex=e},s.select=function(e){var t=l.$matches[e].value;n.$setViewValue(t),l.$resetMatches(),n.$render(),o&&o.$digest(),l.$emit("$typeahead.select",t,e,r.tahIndex)},s.$isVisible=function(){return r.minLength&&n?l.$matches.length&&angular.isString(n.$viewValue)&&n.$viewValue.length>=r.minLength:!!l.$matches.length},s.$getIndex=function(e){var t=l.$matches.length,n=t;if(t){for(n=t;n--&&l.$matches[n].value!==e;);if(!(0>n))return n}},s.$onMouseDown=function(e){e.preventDefault(),e.stopPropagation()},s.$onKeyDown=function(e){/(38|40|13)/.test(e.keyCode)&&(e.preventDefault(),e.stopPropagation(),13===e.keyCode&&l.$matches.length?s.select(l.$activeIndex):38===e.keyCode&&l.$activeIndex>0?l.$activeIndex--:40===e.keyCode&&l.$activeIndex<l.$matches.length-1?l.$activeIndex++:angular.isUndefined(l.$activeIndex)&&(l.$activeIndex=0),l.$digest())};var c=s.show;s.show=function(){c(),setTimeout(function(){s.$element.on("mousedown",s.$onMouseDown),r.keyboard&&t.on("keydown",s.$onKeyDown)})};var u=s.hide;return s.hide=function(){s.$element.off("mousedown",s.$onMouseDown),r.keyboard&&t.off("keydown",s.$onKeyDown),u()},s}angular.element(t.document.body);return i.defaults=e,i}}).directive("sbTypeahead",function(e,t,n,a,i){var s=a.defaults;return{restrict:"EAC",require:"ngModel",link:function(e,t,n,r){var o={scope:e};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","filter","limit","tahIndex","minLength"],function(e){angular.isDefined(n[e])&&(o[e]=n[e])});var l=o.filter||s.filter,c=o.limit||s.limit,u=n.ngOptions;l&&(u+=" | "+l+":$viewValue"),c&&(u+=" | limitTo:"+c);var d=i(u),p=function(){d=i(u),d.valuesFn(e,r).then(function(t){t.length>c&&(t=t.slice(0,c)),(1!==t.length||t[0].value!==e.$modelValue)&&(f.update(t),r.$render())})};n.ngOptionsWatch&&e.$watch(n.ngOptionsWatch,p);var f=a(t,r,o);e.$watch(n.ngModel,function(t){e.$modelValue=t,p()}),r.$render=function(){if(r.$isEmpty(r.$viewValue))return t.val("");var e=f.$getIndex(r.$modelValue),n=angular.isDefined(e)?f.$scope.$matches[e].label:r.$viewValue;n=angular.isObject(n)?n.label:n,t.val(n.replace(/<(?:.|\n)*?>/gm,"").trim())},e.$on("$destroy",function(){f.destroy(),o=null,f=null})}}}),angular.module("angularjssearchbox").run(["$templateCache",function(e){e.put("templates/searchBox.html",'<pre ng-show="debug">Model: {{selected.key | json}} Value : {{ selected.value | json}} opened : {{ opened }}</pre>\r\n<div class="SB-search">\r\n    <div class="SB-search-box-wrapper form-control SB-search-box " >\r\n        <div class="SB-icon SB-icon-search"><span class="glyphicon glyphicon-search"></span></div>\r\n        <div class="SB-placeholder" ng-click="selectInputFacet()"></div>\r\n        <div class="SB-search-inner" >\r\n            <div class="search_parameter" ng-class="{ selected : $index == selectedResult }"\r\n                 ng-repeat="parameter in sbResultList" ng-click="selectResult($index)"\r\n                 repeat-done>\r\n                <div class="search_parameter_remove SB-icon SB-icon-cancel" ng-click="removeFilter($index)"><span class="glyphicon glyphicon-remove"></span></div>\r\n                <div class="key">{{ getFacetLabel(parameter.key) }}</div>\r\n                <div class="value"  ng-if="(parameter.type == null || parameter.type == \'string\')"><span class="SB-inputSizer" >{{ parameter.value }}</span>\r\n                <input type="text"\r\n                       data-tah-index="{{ $index }}"\r\n                       ng-model="parameter.value"\r\n\r\n                       class="form-control SB-inputValue"\r\n                       limit="8"\r\n                       data-trigger="focus"\r\n                       data-min-length="0"\r\n                       data-container="body"\r\n                       ng-options="element.label as element.label + \' (\' +element.count+\')\' for element in getValues(parameter.key) | filter:{label:$viewValue}"\r\n                       sb-focus sb-typeahead ng-options-watch="sbFacetList">\r\n                </div>\r\n                <div class="input-append input-group value" ng-if="parameter.type == \'date\'">\r\n                    <span class="SB-inputSizer" >{{ parameter.value }}</span>\r\n                    <input type="text"\r\n                           data-tah-index="{{ $index }}"\r\n                           ng-model="parameter.value"\r\n                           ng-if="parameter.type == \'date\'"\r\n                           class="form-control SB-inputValue"\r\n                           value="{{ parameter.value || toDay }}"\r\n                           date-range\r\n                           date-range-options="dateOptionsDate"\r\n                           date-range-change="changeEventDateRange"\r\n                           sb-focus >\r\n                </div>\r\n                <div class="input-append input-group value" ng-if="parameter.type == \'range\'">\r\n                    <span class="SB-inputSizer" >{{ parameter.value }}</span>\r\n                    <input type="text"\r\n                           data-tah-index="{{ $index }}"\r\n                           ng-model="parameter.value"\r\n                           ng-if="parameter.type == \'range\'"\r\n                           class="form-control SB-inputValue"\r\n                           value="{{ parameter.value || toDay }}"\r\n                           date-range\r\n                           date-range-options="dateOptionsRange"\r\n                           date-range-change="changeEventDateRange"\r\n                           sb-focus >\r\n                </div>\r\n                <div class="input-append input-group value" ng-if="parameter.type == \'dateOrRange\'">\r\n                    <span class="SB-inputSizer tgdaterange" >{{ parameter.value }}</span>\r\n                    <input type="text"\r\n                           data-tah-index="{{ $index }}"\r\n                           ng-model="parameter.value"\r\n                           ng-if="parameter.type == \'dateOrRange\'"\r\n                           class="form-control SB-inputValue"\r\n                           value="{{ parameter.value || toDay}}"\r\n                           date-range\r\n                           date-range-options="dateOptions"\r\n                           date-range-tbutton="true"\r\n                           date-range-change="changeEventDateRange"\r\n                           sb-focus >\r\n                </div>\r\n            </div>\r\n            </div>\r\n            <div class="search_parameter input-facet">\r\n            <input\r\n                   data-min-length="0"\r\n                   type="text"\r\n                   ng-model="selected.key"\r\n                   data-limit="30"\r\n                   data-trigger="focus"\r\n                   data-container="body"\r\n                   data-delay="{ show: 500, hide: 0 }"\r\n                   ng-options="element as element.label for element in sbFacetList | filter:{label:$viewValue}"\r\n                   class="form-control" sb-typeahead ng-options-watch="sbFacetList">\r\n            </div>\r\n\r\n        </div>\r\n        <div class="SB-icon SB-icon-cancel SB-cancel-search-box" title="clear search" ng-click="removeAll()"><span class="glyphicon glyphicon-remove-circle"></span></div>\r\n    </div>\r\n</div>\r\n<pre ng-show="debug" style="margin-top: 10px;">sbResultList: {{sbResultList | json}} </pre>\r\n<pre ng-show="debug">resultList (input/output): {{resultList | json}} </pre>\r\n<pre ng-show="debug">sbFacetList (input): {{sbFacetList | json}} </pre>\r\n'),e.put("templates/typeAhead.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select">\n  <li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}">\n    <a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a>\n  </li>\n</ul>\n')}]);